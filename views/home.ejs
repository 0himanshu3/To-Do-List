<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TO-DO List</title>
    <link rel="stylesheet" href="/homestyling.css">
</head>
<body>
    <header>
        <h1> Your To-Do List</h1>
        <h2><%= day %></h2> 
    </header>
    <div class="container">
        <div class="table-container">
            <table>
                <thead>
                    <tr>
                        <th>Task</th>
                        <th>Deadline</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <% for (let i = 0; i < items.length; i++) { %>
                        <tr>
                            <td><%= items[i].name %></td>
                            <td><%= items[i].deadline.toDateString() %></td>
                            <td>
                                <form action="/deleteItem" method="post" style="display: inline;">
                                    <input type="hidden" name="itemId" value="<%= items[i]._id %>">
                                    <input type="hidden" name="userId" value="<%= userId %>">
                                    <button class="remove-button" type="submit">Remove</button>
                                </form>
                            </td>
                        </tr>
                    <% } %>
                </tbody>
            </table>
        </div>
        <div class="form-container">
            <form action="/addItem" method="post">
                <input type="text" name="newItem" autocomplete="off" placeholder="New Task">
                <br> 
                <label for="deadline">Deadline:</label>
                <br> 
                <input type="date" name="deadline" id="deadline">
                <br> 
                <input type="hidden" name="userId" value="<%= userId %>">
                <button type="submit">ADD</button>
            </form>
        </div>
    </div>
</body>
</html>
